<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <script>
        async function fetchData() {
            try{
                const response = await fetch('https://jsonplaceholder.typicode.com/users');
                const data = await response.json();

                const users = data.map(user => ({name: user.name, email: user.email}));
                console.log(users);

                let username = document.querySelector('input[id="username"]').value;
                let password = document.querySelector('input[id="password"]').value;
                let isValid = users.some(user => user.name === username && user.email === password);
                console.log(username, password, isValid);

                if (isValid){
                    messageText.textContent = 'Login successful';
                    messageBox.style.display = 'block';
                } else {
                    messageText.textContent = 'Invaild Username or Password';
                    messageBox.style.display = 'block';
                }
            }
            catch(error){
                console.error('Error: ', error);
                alert('Error: The API call was unsuccessful');
        }}
    </script>
    <header>
        <div class='header-content'>
                <img src="images/logo.png" alt="logo" width="221px">
                <h1>Gund-arm Co</h1>
        </header>

    <div class="nav">
        <nav>
            <a href="index.html">Home</a>
            <a href="products.html">Products</a>
            <a href="contact.html">Contact Us</a>
            <a href="login.html">Login</a>
        </nav>
    </div>
    
    <main>
        <div class="login">
            <h2>Login</h2>
            <div class="content-wrapper">
            <label for="username"><b>Username:</b></label>
            <input type="text" id="username" placeholder="Enter Username" name="username" required>
            <label for="password"><b>Password:</b></label> 
            <div class="password-wrapper">
                <input type="password" id="password" placeholder="Enter Password" name="password" required>
                <button type="button" id="loginButton" onclick="fetchData()">Login</button>
            </div>
            <label for="remember"><input type="checkbox" checked="checked" name="remember">Remember me</label>
            <div class="register">
                <label for="register"><b>Don't have an account?</b></label>
                <a href="">Sign up here</a>
            </div>
            </div>
            <div id="messageBox" class="messageBox" style="display: none">
                <p id="messageText"></p>
            </div>
        </div>    
    </main>
    
    <footer>
        <p>Â©2024 Hyunmyung Park and Hongwoo Yoon</p>
    </footer>
</body>
</html>